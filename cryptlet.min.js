(function(){"use strict";var a={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(a){this.toString=function(){return"CORRUPT: "+this.message},this.message=a},invalid:function(a){this.toString=function(){return"INVALID: "+this.message},this.message=a},bug:function(a){this.toString=function(){return"BUG: "+this.message},this.message=a},notReady:function(a){this.toString=function(){return"NOT READY: "+this.message},this.message=a}}};a.cipher.aes=function(b){this.h[0][0][0]||this.u();var c,d,e,f,g=this.h[0][4],h=this.h[1];c=b.length;var i=1;if(c!==4&&c!==6&&c!==8)throw new a.exception.invalid("invalid aes key size");this.a=[e=b.slice(0),f=[]];for(b=c;b<4*c+28;b++){d=e[b-1];if(b%c===0||c===8&&b%c===4)d=g[d>>>24]<<24^g[d>>16&255]<<16^g[d>>8&255]<<8^g[d&255],b%c===0&&(d=d<<8^d>>>24^i<<24,i=i<<1^(i>>7)*283);e[b]=e[b-c]^d}for(c=0;b;c++,b--)d=e[c&3?b:b-4],f[c]=b<=4||c<4?d:h[0][g[d>>>24]]^h[1][g[d>>16&255]]^h[2][g[d>>8&255]]^h[3][g[d&255]]},a.cipher.aes.prototype={encrypt:function(a){return this.F(a,0)},decrypt:function(a){return this.F(a,1)},h:[[[],[],[],[],[]],[[],[],[],[],[]]],u:function(){var a=this.h[0],b=this.h[1],c=a[4],d=b[4],e,f,g,h=[],i=[],j,k,l,m;for(e=0;e<256;e++)i[(h[e]=e<<1^(e>>7)*283)^e]=e;for(f=g=0;!c[f];f^=j||1,g=i[g]||1){l=g^g<<1^g<<2^g<<3^g<<4,l=l>>8^l&255^99,c[f]=l,d[l]=f,k=h[e=h[j=h[f]]],m=k*16843009^e*65537^j*257^f*16843008,k=h[l]*257^l*16843008;for(e=0;e<4;e++)a[e][f]=k=k<<24^k>>>8,b[e][l]=m=m<<24^m>>>8}for(e=0;e<5;e++)a[e]=a[e].slice(0),b[e]=b[e].slice(0)},F:function(b,c){if(b.length!==4)throw new a.exception.invalid("invalid aes block size");var d=this.a[c],e=b[0]^d[0],f=b[c?3:1]^d[1],g=b[2]^d[2];b=b[c?1:3]^d[3];var h,i,j,k=d.length/4-2,l,m=4,n=[0,0,0,0];h=this.h[c];var o=h[0],p=h[1],q=h[2],r=h[3],s=h[4];for(l=0;l<k;l++)h=o[e>>>24]^p[f>>16&255]^q[g>>8&255]^r[b&255]^d[m],i=o[f>>>24]^p[g>>16&255]^q[b>>8&255]^r[e&255]^d[m+1],j=o[g>>>24]^p[b>>16&255]^q[e>>8&255]^r[f&255]^d[m+2],b=o[b>>>24]^p[e>>16&255]^q[f>>8&255]^r[g&255]^d[m+3],m+=4,e=h,f=i,g=j;for(l=0;l<4;l++)n[c?3&-l:l]=s[e>>>24]<<24^s[f>>16&255]<<16^s[g>>8&255]<<8^s[b&255]^d[m++],h=e,e=f,f=g,g=b,b=h;return n}},a.bitArray={bitSlice:function(b,c,d){return b=a.bitArray.N(b.slice(c/32),32-(c&31)).slice(1),d===undefined?b:a.bitArray.clamp(b,d-c)},extract:function(a,b,c){var d=Math.floor(-b-c&31);return((b+c-1^b)&-32?a[b/32|0]<<32-d^a[b/32+1|0]>>>d:a[b/32|0]>>>d)&(1<<c)-1},concat:function(b,c){if(b.length===0||c.length===0)return b.concat(c);var d=b[b.length-1],e=a.bitArray.getPartial(d);return e===32?b.concat(c):a.bitArray.N(c,e,d|0,b.slice(0,b.length-1))},bitLength:function(b){var c=b.length;return c===0?0:(c-1)*32+a.bitArray.getPartial(b[c-1])},clamp:function(b,c){if(b.length*32<c)return b;b=b.slice(0,Math.ceil(c/32));var d=b.length;return c&=31,d>0&&c&&(b[d-1]=a.bitArray.partial(c,b[d-1]&2147483648>>c-1,1)),b},partial:function(a,b,c){return a===32?b:(c?b|0:b<<32-a)+a*1099511627776},getPartial:function(a){return Math.round(a/1099511627776)||32},equal:function(b,c){if(a.bitArray.bitLength(b)!==a.bitArray.bitLength(c))return!1;var d=0,e;for(e=0;e<b.length;e++)d|=b[e]^c[e];return d===0},N:function(b,c,d,e){var f;f=0,e===undefined&&(e=[]);for(;c>=32;c-=32)e.push(d),d=0;if(c===0)return e.concat(b);for(f=0;f<b.length;f++)e.push(d|b[f]>>>c),d=b[f]<<32-c;return f=b.length?b[b.length-1]:0,b=a.bitArray.getPartial(f),e.push(a.bitArray.partial(c+b&31,c+b>32?d:e.pop(),1)),e},O:function(a,b){return[a[0]^b[0],a[1]^b[1],a[2]^b[2],a[3]^b[3]]}},a.codec.utf8String={fromBits:function(b){var c="",d=a.bitArray.bitLength(b),e,f;for(e=0;e<d/8;e++)(e&3)===0&&(f=b[e/4]),c+=String.fromCharCode(f>>>24),f<<=8;return decodeURIComponent(escape(c))},toBits:function(b){b=unescape(encodeURIComponent(b));var c=[],d,e=0;for(d=0;d<b.length;d++)e=e<<8|b.charCodeAt(d),(d&3)===3&&(c.push(e),e=0);return d&3&&c.push(a.bitArray.partial(8*(d&3),e)),c}},a.codec.base64={B:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(b,c,d){var e="",f=0,g=a.codec.base64.B,h=0,i=a.bitArray.bitLength(b);d&&(g=g.substr(0,62)+"-_");for(d=0;e.length*6<i;)e+=g.charAt((h^b[d]>>>f)>>>26),f<6?(h=b[d]<<6-f,f+=26,d++):(h<<=6,f-=6);for(;e.length&3&&!c;)e+="=";return e},toBits:function(b,c){b=b.replace(/\s|=/g,"");var d=[],e=0,f=a.codec.base64.B,g=0,h;c&&(f=f.substr(0,62)+"-_");for(c=0;c<b.length;c++){h=f.indexOf(b.charAt(c));if(h<0)throw new a.exception.invalid("this isn't base64!");e>26?(e-=26,d.push(g^h>>>e),g=h<<32-e):(e+=6,g^=h<<32-e)}return e&56&&d.push(a.bitArray.partial(e&56,g,1)),d}},a.codec.base64url={fromBits:function(b){return a.codec.base64.fromBits(b,1,1)},toBits:function(b){return a.codec.base64.toBits(b,1)}},a.hash.sha256=function(a){this.a[0]||this.u(),a?(this.m=a.m.slice(0),this.i=a.i.slice(0),this.e=a.e):this.reset()},a.hash.sha256.hash=function(b){return(new a.hash.sha256).update(b).finalize()},a.hash.sha256.prototype={blockSize:512,reset:function(){return this.m=this.L.slice(0),this.i=[],this.e=0,this},update:function(b){typeof b=="string"&&(b=a.codec.utf8String.toBits(b));var c,d=this.i=a.bitArray.concat(this.i,b);c=this.e,b=this.e=c+a.bitArray.bitLength(b);for(c=512+c&-512;c<=b;c+=512)this.A(d.splice(0,16));return this},finalize:function(){var b,c=this.i,d=this.m;c=a.bitArray.concat(c,[a.bitArray.partial(1,1)]);for(b=c.length+2;b&15;b++)c.push(0);c.push(Math.floor(this.e/4294967296));for(c.push(this.e|0);c.length;)this.A(c.splice(0,16));return this.reset(),d},L:[],a:[],u:function(){function a(a){return(a-Math.floor(a))*4294967296|0}var b=0,c=2,d;a:for(;b<64;c++){for(d=2;d*d<=c;d++)if(c%d===0)continue a;b<8&&(this.L[b]=a(Math.pow(c,.5))),this.a[b]=a(Math.pow(c,1/3)),b++}},A:function(a){var b,c,d=a.slice(0),e=this.m,f=this.a,g=e[0],h=e[1],i=e[2],j=e[3],k=e[4],l=e[5],m=e[6],n=e[7];for(a=0;a<64;a++)a<16?b=d[a]:(b=d[a+1&15],c=d[a+14&15],b=d[a&15]=(b>>>7^b>>>18^b>>>3^b<<25^b<<14)+(c>>>17^c>>>19^c>>>10^c<<15^c<<13)+d[a&15]+d[a+9&15]|0),b=b+n+(k>>>6^k>>>11^k>>>25^k<<26^k<<21^k<<7)+(m^k&(l^m))+f[a],n=m,m=l,l=k,k=j+b|0,j=i,i=h,h=g,g=b+(h&i^j&(h^i))+(h>>>2^h>>>13^h>>>22^h<<30^h<<19^h<<10)|0;e[0]=e[0]+g|0,e[1]=e[1]+h|0,e[2]=e[2]+i|0,e[3]=e[3]+j|0,e[4]=e[4]+k|0,e[5]=e[5]+l|0,e[6]=e[6]+m|0,e[7]=e[7]+n|0}},a.mode.ccm={name:"ccm",encrypt:function(b,c,d,e,f){var g,h=c.slice(0),i=a.bitArray,j=i.bitLength(d)/8,k=i.bitLength(h)/8;f=f||64,e=e||[];if(j<7)throw new a.exception.invalid("ccm: iv must be at least 7 bytes");for(g=2;g<4&&k>>>8*g;g++);return g<15-j&&(g=15-j),d=i.clamp(d,8*(15-g)),c=a.mode.ccm.D(b,c,d,e,f,g),h=a.mode.ccm.G(b,h,d,c,f,g),i.concat(h.data,h.tag)},decrypt:function(b,c,d,e,f){f=f||64,e=e||[];var g=a.bitArray,h=g.bitLength(d)/8,i=g.bitLength(c),j=g.clamp(c,i-f),k=g.bitSlice(c,i-f);i=(i-f)/8;if(h<7)throw new a.exception.invalid("ccm: iv must be at least 7 bytes");for(c=2;c<4&&i>>>8*c;c++);c<15-h&&(c=15-h),d=g.clamp(d,8*(15-c)),j=a.mode.ccm.G(b,j,d,k,f,c),b=a.mode.ccm.D(b,j.data,d,e,f,c);if(!g.equal(j.tag,b))throw new a.exception.corrupt("ccm: tag doesn't match");return j.data},D:function(b,c,d,e,f,g){var h=[],i=a.bitArray,j=i.O;f/=8;if(f%2||f<4||f>16)throw new a.exception.invalid("ccm: invalid tag length");if(e.length>4294967295||c.length>4294967295)throw new a.exception.bug("ccm: can't deal with 4GiB or more data");g=[i.partial(8,(e.length?64:0)|f-2<<2|g-1)],g=i.concat(g,d),g[3]|=i.bitLength(c)/8,g=b.encrypt(g);if(e.length){d=i.bitLength(e)/8,d<=65279?h=[i.partial(16,d)]:d<=4294967295&&(h=i.concat([i.partial(16,65534)],[d])),h=i.concat(h,e);for(e=0;e<h.length;e+=4)g=b.encrypt(j(g,h.slice(e,e+4).concat([0,0,0])))}for(e=0;e<c.length;e+=4)g=b.encrypt(j(g,c.slice(e,e+4).concat([0,0,0])));return i.clamp(g,f*8)},G:function(b,c,d,e,f,g){var h,i=a.bitArray;h=i.O;var j=c.length,k=i.bitLength(c);d=i.concat([i.partial(8,g-1)],d).concat([0,0,0]).slice(0,4),e=i.bitSlice(h(e,b.encrypt(d)),0,f);if(!j)return{tag:e,data:[]};for(h=0;h<j;h+=4)d[3]++,f=b.encrypt(d),c[h]^=f[0],c[h+1]^=f[1],c[h+2]^=f[2],c[h+3]^=f[3];return{tag:e,data:i.clamp(c,k)}}},a.misc.hmac=function(b,c){this.K=c=c||a.hash.sha256;var d=[[],[]],e=c.prototype.blockSize/32;this.k=[new c,new c],b.length>e&&(b=c.hash(b));for(c=0;c<e;c++)d[0][c]=b[c]^909522486,d[1][c]=b[c]^1549556828;this.k[0].update(d[0]),this.k[1].update(d[1])},a.misc.hmac.prototype.encrypt=a.misc.hmac.prototype.mac=function(a,b){return a=(new this.K(this.k[0])).update(a,b).finalize(),(new this.K(this.k[1])).update(a).finalize()},a.misc.pbkdf2=function(b,c,d,e,f){d=d||1e3;if(e<0||d<0)throw a.exception.invalid("invalid params to pbkdf2");typeof b=="string"&&(b=a.codec.utf8String.toBits(b)),f=f||a.misc.hmac,b=new f(b);var g,h,i,j,k=[],l=a.bitArray;for(j=1;32*k.length<(e||1);j++){f=g=b.encrypt(l.concat(c,[j]));for(h=1;h<d;h++){g=b.encrypt(g);for(i=0;i<g.length;i++)f[i]^=g[i]}k=k.concat(f)}return e&&(k=l.clamp(k,e)),k},a.random={randomWords:function(b,c){var d=[];c=this.isReady(c);var e;if(c===0)throw new a.exception.notReady("generator isn't seeded");c&2&&this.T(!(c&1));for(c=0;c<b;c+=4)(c+1)%65536===0&&this.J(),e=this.t(),d.push(e[0],e[1],e[2],e[3]);return this.J(),d.slice(0,b)},setDefaultParanoia:function(a){this.s=a},addEntropy:function(b,c,d){d=d||"user";var e,f,g=(new Date).valueOf(),h=this.p[d],i=this.isReady();e=this.C[d],e===undefined&&(e=this.C[d]=this.Q++),h===undefined&&(h=this.p[d]=0),this.p[d]=(this.p[d]+1)%this.b.length;switch(typeof b){case"number":break;case"object":if(c===undefined)for(d=c=0;d<b.length;d++)for(f=b[d];f>0;)c++,f>>>=1;this.b[h].update([e,this.H++,2,c,g,b.length].concat(b));break;case"string":c===undefined&&(c=b.length),this.b[h].update([e,this.H++,3,c,g,b.length]),this.b[h].update(b);break;default:throw new a.exception.bug("random: addEntropy only supports number, array or string")}this.j[h]+=c,this.f+=c,i===0&&(this.isReady()!==0&&this.I("seeded",Math.max(this.g,this.f)),this.I("progress",this.getProgress()))},isReady:function(a){return a=this.z[a!==undefined?a:this.s],this.g&&this.g>=a?this.j[0]>80&&(new Date).valueOf()>this.M?3:1:this.f>=a?2:0},getProgress:function(a){return a=this.z[a?a:this.s],this.g>=a?(1)[0]:this.f>a?(1)[0]:this.f/a},startCollectors:function(){if(!this.l){if(window.addEventListener)window.addEventListener("load",this.n,!1),window.addEventListener("mousemove",this.o,!1);else if(document.attachEvent)document.attachEvent("onload",this.n),document.attachEvent("onmousemove",this.o);else throw new a.exception.bug("can't attach event");this.l=!0}},stopCollectors:function(){this.l&&(window.removeEventListener?(window.removeEventListener("load",this.n,!1),window.removeEventListener("mousemove",this.o,!1)):window.detachEvent&&(window.detachEvent("onload",this.n),window.detachEvent("onmousemove",this.o)),this.l=!1)},addEventListener:function(a,b){this.q[a][this.P++]=b},removeEventListener:function(a,b){var c;a=this.q[a];var d=[];for(c in a)a.hasOwnProperty(c)&&a[c]===b&&d.push(c);for(b=0;b<d.length;b++)c=d[b],delete a[c]},b:[new a.hash.sha256],j:[0],w:0,p:{},H:0,C:{},Q:0,g:0,f:0,M:0,a:[0,0,0,0,0,0,0,0],d:[0,0,0,0],r:undefined,s:6,l:!1,q:{progress:{},seeded:{}},P:0,z:[0,48,64,96,128,192,256,384,512,768,1024],t:function(){for(var a=0;a<4;a++){this.d[a]=this.d[a]+1|0;if(this.d[a])break}return this.r.encrypt(this.d)},J:function(){this.a=this.t().concat(this.t()),this.r=new a.cipher.aes(this.a)},S:function(b){this.a=a.hash.sha256.hash(this.a.concat(b)),this.r=new a.cipher.aes(this.a);for(b=0;b<4;b++){this.d[b]=this.d[b]+1|0;if(this.d[b])break}},T:function(b){var c=[],d=0,e;this.M=c[0]=(new Date).valueOf()+3e4;for(e=0;e<16;e++)c.push(Math.random()*4294967296|0);for(e=0;e<this.b.length;e++){c=c.concat(this.b[e].finalize()),d+=this.j[e],this.j[e]=0;if(!b&&this.w&1<<e)break}this.w>=1<<this.b.length&&(this.b.push(new a.hash.sha256),this.j.push(0)),this.f-=d,d>this.g&&(this.g=d),this.w++,this.S(c)},o:function(b){a.random.addEntropy([b.x||b.clientX||b.offsetX,b.y||b.clientY||b.offsetY],2,"mouse")},n:function(){a.random.addEntropy(new Date,2,"loadtime")},I:function(b,c){var d;b=a.random.q[b];var e=[];for(d in b)b.hasOwnProperty(d)&&e.push(b[d]);for(d=0;d<e.length;d++)e[d](c)}};try{var b=new Uint32Array(32);crypto.getRandomValues(b),a.random.addEntropy(b,1024,"crypto['getRandomValues']")}catch(c){}a.json={defaults:{v:1,iter:1e3,ks:128,ts:64,mode:"ccm",adata:"",cipher:"aes"},encrypt:function(b,c,d,e){d=d||{},e=e||{};var f=a.json,g=f.c({iv:a.random.randomWords(4,0)},f.defaults);f.c(g,d),typeof g.salt=="string"&&(g.salt=a.codec.base64.toBits(g.salt)),typeof g.iv=="string"&&(g.iv=a.codec.base64.toBits(g.iv));if(!a.mode[g.mode]||!a.cipher[g.cipher]||typeof b=="string"&&g.iter<=100||g.ts!==64&&g.ts!==96&&g.ts!==128||g.ks!==128&&g.ks!==192&&g.ks!==256||g.iv.length<2||g.iv.length>4)throw new a.exception.invalid("json encrypt: invalid parameters");return typeof b=="string"&&(d=a.misc.cachedPbkdf2(b,g),b=d.key.slice(0,g.ks/32),g.salt=d.salt),typeof c=="string"&&(c=a.codec.utf8String.toBits(c)),d=new a.cipher[g.cipher](b),f.c(e,g),e.key=b,g.ct=a.mode[g.mode].encrypt(d,c,g.iv,g.adata,g.ts),f.encode(f.U(g,f.defaults))},decrypt:function(b,c,d,e){d=d||{},e=e||{};var f=a.json;c=f.c(f.c(f.c({},f.defaults),f.decode(c)),d,!0),typeof c.salt=="string"&&(c.salt=a.codec.base64.toBits(c.salt)),typeof c.iv=="string"&&(c.iv=a.codec.base64.toBits(c.iv));if(!a.mode[c.mode]||!a.cipher[c.cipher]||typeof b=="string"&&c.iter<=100||c.ts!==64&&c.ts!==96&&c.ts!==128||c.ks!==128&&c.ks!==192&&c.ks!==256||!c.iv||c.iv.length<2||c.iv.length>4)throw new a.exception.invalid("json decrypt: invalid parameters");return typeof b=="string"&&(d=a.misc.cachedPbkdf2(b,c),b=d.key.slice(0,c.ks/32),c.salt=d.salt),d=new a.cipher[c.cipher](b),d=a.mode[c.mode].decrypt(d,c.ct,c.iv,c.adata,c.ts),f.c(e,c),e.key=b,a.codec.utf8String.fromBits(d)},encode:function(b){var c,d="{",e="";for(c in b)if(b.hasOwnProperty(c)){if(!c.match(/^[a-z0-9]+$/i))throw new a.exception.invalid("json encode: invalid property name");d+=e+c+":",e=",";switch(typeof b[c]){case"number":case"boolean":d+=b[c];break;case"string":d+='"'+escape(b[c])+'"';break;case"object":d+='"'+a.codec.base64.fromBits(b[c],1)+'"';break;default:throw new a.exception.bug("json encode: unsupported type")}}return d+"}"},decode:function(b){b=b.replace(/\s/g,"");if(!b.match(/^\{.*\}$/))throw new a.exception.invalid("json decode: this isn't json!");b=b.replace(/^\{|\}$/g,"").split(/,/);var c={},d,e;for(d=0;d<b.length;d++){if(!(e=b[d].match(/^([a-z][a-z0-9]*):(?:(\d+)|"([a-z0-9+\/%*_.@=\-]*)")$/i)))throw new a.exception.invalid("json decode: this isn't json!");c[e[1]]=e[2]?parseInt(e[2],10):e[1].match(/^(ct|salt|iv)$/)?a.codec.base64.toBits(e[3]):unescape(e[3])}return c},c:function(b,c,d){b===undefined&&(b={});if(c===undefined)return b;var e;for(e in c)if(c.hasOwnProperty(e)){if(d&&b[e]!==undefined&&b[e]!==c[e])throw new a.exception.invalid("required parameter overridden");b[e]=c[e]}return b},U:function(a,b){var c={},d;for(d in a)a.hasOwnProperty(d)&&a[d]!==b[d]&&(c[d]=a[d]);return c},V:function(a,b){var c={},d;for(d=0;d<b.length;d++)a[b[d]]!==undefined&&(c[b[d]]=a[b[d]]);return c}},a.encrypt=a.json.encrypt,a.decrypt=a.json.decrypt,a.misc.R={},a.misc.cachedPbkdf2=function(b,c){var d=a.misc.R,e;return c=c||{},e=c.iter||1e3,d=d[b]=d[b]||{},e=d[e]=d[e]||{firstSalt:c.salt&&c.salt.length?c.salt.slice(0):a.random.randomWords(2,0)},d=c.salt===undefined?e.firstSalt:c.salt,e[d]=e[d]||a.misc.pbkdf2(b,d,c.iter),{key:e[d].slice(0),salt:d.slice(0)}};var d="cryptlet-container",e=8,f="===start=cryptlet===",g="===end=cryptlet===",h=document.getElementById("canvas_frame"),i=h.contentDocument||h.contentWindow.document,j=function(a){throw alert(a),a},k=function(a){return a.replace(/[\s\r\n]+$/,"")},l=function(a){return a.slice(0,f.length)===f&&a.slice(-g.length)===g},m=function(){var b=i.getElementsByName("body")[0];l(k(b.value))&&j("You have already encrypted this text.");var c=prompt("Enter a password, please!");if(typeof c=="undefined"||c===null)return;c===""?j("You must enter a password."):c.length<e&&j("You must enter a longer password.");var d=f+a.encrypt(c,b.value)+g;b.value=d},n=function(){var b=prompt("Enter a password, please!");if(b===""||typeof b=="undefined"||b===null)return;var c=this.parentNode.firstChild,d=k(c.textContent);l(d)||j("This text is not encrypted.");try{var e=d.slice(f.length,-g.length);c.innerText=a.decrypt(b,e),this.parentNode.removeChild(this)}catch(h){j("Wrong password: "+h)}},o=function(){var a=i.getElementsByTagName("div"),b=null;for(var c=0;c<a.length;c++){var e=a[c];if(typeof e.firstChild!="undefined"&&e.firstChild!==null){var f=e.firstChild;if(f.nodeType===3&&f.nodeValue==="Discard"){b=e;break}}}if(b===null)return;if(b.parentNode.getElementsByClassName(d).length>0)return;var g=i.createElement("span"),h=i.createElement("div");g.className=d,h.setAttribute("role","button"),h.className=b.className,h.appendChild(i.createTextNode("Encrypt")),h.onclick=m,g.appendChild(h),b.parentNode.insertBefore(g)},p=function(){var a=i.getElementsByTagName("div"),b=null,c=null;for(var e=0;e<a.length;e++)if(a[e].getAttribute("role")==="main"){b=a[e];break}var f=b.getElementsByTagName("div"),g=[];for(var e=0;e<f.length;e++){var h=f.item(e);if(h.parentNode.getElementsByClassName(d).length>0)continue;if(typeof h.firstChild!="undefined"&&h.firstChild!==null&&h.firstChild.nodeType===3){var j=h.textContent;typeof j!="undefined"&&j!==null&&l(k(j))&&g.push(h)}}for(var e=0;e<g.length;e++){var m=i.createElement("span"),o=i.createElement("span");m.setAttribute("style","cursor: pointer; margin: 1em; padding: .5em; background: black; color: white"),m.className=d,m.appendChild(o),o.appendChild(document.createTextNode("Decrypt")),o.setAttribute("role","button"),m.onclick=n,g[e].parentNode.insertBefore(m)}},q=function(){o(),p()};window.onhashchange=q,i.addEventListener("click",q,!0)})();